// _recherche.scss – Version avec sidebar et design cohérent pour la recherche multiple
@import '../base/variables';

// =============================================
// WRAPPER GLOBAL (identique)
// =============================================
.app-wrapper-global {
  display: flex;
  min-height: 100vh;
  background: none;
}

// =============================================
// SIDEBAR LATÉRALE FIXE À GAUCHE - STYLE IDENTIQUE
// =============================================
.search-sidebar-recherche {
  position: fixed;
  top: 60px; // 50px de marge en haut
  left: 0;
  width: 280px;
  height: calc(100vh - 50px); // Hauteur ajustée pour tenir compte du top
  z-index: $z-index-fixed - 1;
  overflow-y: auto;
  padding: $padding-lg;
  background: $color-tertiary-dark; // <-- CHANGÉ: couleur principale
  box-sizing: border-box;
  border: none !important;
  box-shadow: $shadow-accent;
  border-radius: 0 20px 20px 0;

  @media (max-width: 1400px) {
    width: 240px;
    padding: $padding-md;
  }
  
  @media (max-width: $breakpoint-lg) {
    display: none;
  }
  
  // Icônes avec couleur primaire foncée
  i {
    color: $color-primary-dark !important;
  }
  
  // Exception pour les boutons
  .search-btn-sidebar-recherche,
  .reset-btn-sidebar-recherche {
    i {
      color: $color-text-light !important;
    }
    
    &:hover {
      background: rgba($color-text-light, 0.1) !important;
    }
  }

  .sidebar-header-recherche {
    margin-bottom: $spacing-md;
    border-bottom: 1px solid $color-border;
    padding-bottom: $spacing-sm;

    .sidebar-title-recherche {
      @include typography-playfair-h4;
      color: $color-text-light;
      margin: 0 0 $gap-xs 0;
      font-size: calc(#{$font-size-h4} - 2px);
    }

    .sidebar-subtitle-recherche {
      @include typography-p4;
      color: $color-text-light;
      margin: 0;
    }
  }

  .filter-section-recherche {
    margin-bottom: $spacing-md;
    background: rgba($color-text-light, 0.1) !important; 
    border-radius: $border-radius-xs;
    padding: $padding-sm;
    box-shadow: $shadow-hover;

    .section-title-recherche {
      @include typography-p4;
      color: $color-text-light;
      margin-bottom: $gap-sm;
      font-size: calc(#{$font-size-p4} + 1px);
      display: flex;
      align-items: center;
      gap: $gap-xs;
    }
  }

  .filter-group-recherche {
    display: flex;
    flex-direction: column;
    gap: $gap-sm;
  }

  .filter-select-recherche {
    width: 100%;
    height: 34px;
    padding: 0 $padding-xs;
    background: $color-background-alt;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    font-size: $font-size-p4;
    color: $color-text-primary;
    cursor: pointer;
    box-sizing: border-box;
    
    &:focus {
      outline: none;
      border-color: $color-primary;
    }
  }

  // Styles pour les dropdowns
  .filter-dropdown-recherche {
    position: relative;
  }

  .dropdown-trigger-recherche {
    width: 100%;
    height: 36px;
    padding: 0 $padding-sm;
    background: $color-background-alt;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    font-size: $font-size-p4;
    color: $color-text-secondary;
    cursor: pointer;
    transition: $transition-fast;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: $font-weight-semibold;
    gap: $gap-xs;
    box-sizing: border-box;

    &:hover {
      background: $color-surface-hover;
      border-color: $color-primary;
      color: $color-primary;
    }

    &.open {
      border-color: $color-primary;
      background: $color-surface-hover;
    }

    .dropdown-text-recherche {
      flex: 1;
      text-align: left;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .dropdown-icon-recherche {
      transition: $transition-fast;
      font-size: $font-size-p3;
    }

    &.open .dropdown-icon-recherche {
      transform: rotate(180deg);
    }
  }

  .dropdown-menu-recherche {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: $color-background-alt;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    box-shadow: $shadow-lg;
    margin-top: $gap-xs;
    z-index: $z-index-dropdown;
    max-height: 300px;
    overflow-y: auto;
  }

  .dropdown-options-recherche {
    padding: $padding-xs;
  }

  .dropdown-option-recherche {
    display: flex;
    align-items: center;
    gap: $gap-xs;
    padding: $gap-sm $padding-xs;
    border-radius: $border-radius-xs;
    cursor: pointer;
    transition: $transition-fast;
    font-size: $font-size-p4;
    color: $color-text-secondary;

    &:hover {
      background: $color-surface-hover;
      color: $color-primary;
    }

    input[type="checkbox"] {
      margin: 0;
    }

    i {
      width: 16px;
      text-align: center;
      font-size: $font-size-p3;
    }
  }

  .date-input-recherche {
    width: 100%;
    padding: $gap-sm $padding-xs;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    font-size: $font-size-p4;
    background: $color-background-alt;
    color: $color-text-primary;
    
    &:focus {
      outline: none;
      border-color: $color-primary;
    }
  }

  .clear-date-btn-recherche {
    width: 100%;
    margin-top: $gap-xs;
    padding: $gap-xs $padding-xs;
    background: rgba($color-error, 0.1);
    border: 1px solid rgba($color-error, 0.3);
    border-radius: $border-radius-xs;
    color: $color-error;
    font-size: $font-size-p4;
    cursor: pointer;
    transition: $transition-fast;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: $gap-xs;

    &:hover {
      background: rgba($color-error, 0.2);
    }
  }

  .sidebar-actions-recherche {
    display: flex;
    flex-direction: column;
    gap: $gap-xs;
    margin-top: $spacing-md;
  }

  .search-btn-sidebar-recherche,
  .reset-btn-sidebar-recherche {
    width: 100%;
    height: 36px;
    padding: 0 $padding-sm;
    border-radius: $border-radius-xs;
    font-size: $font-size-p4;
    cursor: pointer;
    transition: $transition-fast;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: $font-weight-semibold;
    gap: $gap-xs;
    box-sizing: border-box;

    &:hover {
      background: $color-surface-hover;
      border-color: $color-primary;
      color: $color-primary;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  .search-btn-sidebar-recherche {
    background: $color-accent-dark;
    border: 1px solid $color-primary;
    color: $color-white;
    font-weight: $font-weight-semibold;
  
    &:hover {
      background: darken($color-accent-dark, 10%);
      border-color: $color-primary-dark;
      color: $color-text-light;
    }
  }

  .reset-btn-sidebar-recherche {
    background: rgba($color-text-light, 0.1);
    border: 1px solid rgba($color-text-light, 0.3);
    color: $color-text-light;
    
    &:hover {
      background: rgba($color-text-light, 0.2);
      border-color: $color-warning;
      color: $color-warning;
    }
  }
}

// =============================================
// CONTENU PRINCIPAL À DROITE (identique)
// =============================================
.search-body-recherche {
  flex: 1;
  margin-left: 280px;
  min-height: 100vh;
  background: none;
}

.search-main-content-recherche {
  padding: $spacing-lg;
  max-width: 1400px;
  margin: 0 auto;

  .main-header-recherche {
    text-align: center;
    margin-bottom: $spacing-lg;

    .page-title-recherche {
      @include typography-playfair-h3;
      color: $color-text-primary;
      margin: 0 0 $gap-xs 0;
      font-size: calc(#{$font-size-h3} - 2px);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $gap-sm;
    }

    .page-subtitle-recherche {
      @include typography-p3;
      color: $color-text-muted;
      max-width: 800px;
      margin: 0 auto;
    }
  }
}

// =============================================
// BARRE DE RECHERCHE PRINCIPALE
// =============================================
.search-bar-main-recherche {
  margin-bottom: $spacing-lg;
}

.search-input-container-recherche {
  position: relative;
  display: flex;
  align-items: center;
}

.search-input-large-recherche {
  flex: 1;
  height: 55px;
  padding: 0 $padding-lg;
  padding-right: 100px; // Espace pour les boutons
  border: 2px solid $color-border;
  border-radius: 150px;
  font-size: $font-size-p2;
  color: $color-text-primary;
  background: $color-background-alt;
  transition: $transition-fast;
  
  &:focus {
    outline: none;
    border-color: $color-primary;
    box-shadow: 0 0 0 3px rgba($color-primary, 0.1);
  }
  
  &::placeholder {
    color: $color-text-muted;
  }
}

.search-btn-main-recherche,
.clear-search-btn-main-recherche {
  position: absolute;
  right: 0px;
  background: none;
  border: none;
  color: $color-text-muted;
  cursor: pointer;
  padding: $gap-xs;
  border-radius: $border-radius-xs;
  transition: $transition-fast;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
}

.search-btn-main-recherche {
  right: 10px;
  color: $color-accent;
  font-size: 25px;
  
  &:hover {
    color: $color-secondary;
    background-color: $color-primary-light;
    width: 45px;
    height: 45px;
    border-radius: 25px;
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

.clear-search-btn-main-recherche {
  font-size: $font-size-p2;
  
  &:hover {
    background: rgba($color-error, 0.1);
    color: $color-error;
  }
}

// =============================================
// CONTRÔLES DE TRI
// =============================================
.sort-controls-recherche {
  margin-bottom: $spacing-lg;
  padding: $padding-sm;
  background: $color-background-alt;
  border-radius: $border-radius-sm;
  border: 1px solid $color-border;
}

.sort-options-recherche {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: $gap-sm;
  flex-wrap: wrap;
  
  .sort-label-recherche {
    @include typography-p3;
    color: $color-text-secondary;
    display: flex;
    align-items: center;
    gap: $gap-xs;
    font-weight: $font-weight-medium;
  }
  
  .sort-select-recherche {
    flex: 1;
    max-width: 300px;
    height: 34px;
    padding: 0 $padding-sm;
    background: $color-background-alt;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    font-size: $font-size-p4;
    color: $color-text-primary;
    cursor: pointer;
    
    &:focus {
      outline: none;
      border-color: $color-primary;
    }
  }
  
  .sort-direction-recherche {
    background: $color-surface;
    border: 1px solid $color-border;
    border-radius: $border-radius-xs;
    color: $color-text-secondary;
    cursor: pointer;
    padding: $gap-xs $padding-sm;
    transition: $transition-fast;
    
    &:hover {
      background: $color-surface-hover;
      color: $color-primary;
      border-color: $color-primary;
    }
    
    i {
      font-size: $font-size-p3;
    }
  }
}

// =============================================
// INDICATEURS DE FILTRE ACTIF
// =============================================
.projet-filter-indicator-recherche {
  background: linear-gradient(135deg, $color-primary-light, $color-accent-light);
  border-radius: $border-radius-sm;
  padding: $padding-md;
  margin-bottom: $spacing-md;
  border-left: 4px solid $color-primary;
  box-shadow: $shadow-md;
}

.projet-indicator-content-recherche {
  display: flex;
  align-items: center;
  gap: $gap-md;
  flex-wrap: wrap;
  
  .projet-label-recherche {
    @include typography-p3;
    color: $color-text-primary;
    font-weight: $font-weight-semibold;
    display: flex;
    align-items: center;
    gap: $gap-xs;
    
    i {
      color: $color-primary;
    }
  }
  
  .projet-nom-recherche {
    @include typography-playfair-h4;
    color: $color-primary-dark;
    font-size: $font-size-p1;
    flex: 1;
  }
  
  .clear-projet-btn-recherche {
    @include typography-p4;
    background: rgba($color-primary, 0.1);
    border: 1px solid rgba($color-primary, 0.3);
    border-radius: $border-radius-xs;
    color: $color-primary;
    padding: $gap-xs $padding-sm;
    cursor: pointer;
    transition: $transition-fast;
    display: flex;
    align-items: center;
    gap: $gap-xs;
    font-weight: $font-weight-medium;
    
    &:hover {
      background: $color-primary;
      color: $color-text-light;
    }
  }
}

// =============================================
// GRILLE DE RÉSULTATS - STYLE IDENTIQUE À L'ACCUEIL
// =============================================
.projects-library-Scenariste {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: $gap-lg;
  padding: $padding-lg 0;
}

// Carte de résultat - STYLE IDENTIQUE À L'ACCUEIL
.movie-card-Scenariste {
  background: $color-background-alt;
  border-radius: $border-radius-xs;
  box-shadow: $shadow-lg;
  overflow: hidden;
  transition: all $transition-medium;
  position: relative;
  display: flex;
  flex-direction: column;
  height: 350px; // Hauteur ajustée pour contenir plus d'infos
  padding: $padding-lg;
  animation: slide-in 0.5s ease-out forwards;
  animation-delay: calc(var(--index, 1) * 0.1s);
  opacity: 0;
  cursor: pointer;
  border: 1px solid $color-border;

  &:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    border-color: $color-primary;
  }

  // Styles spécifiques par type de résultat
  &.type-scene {
    border-top: 3px solid rgba($color-scene, 0.5);
    
    &:hover {
      border-color: $color-scene;
    }
  }
  
  &.type-personnage {
    border-top: 3px solid rgba($color-character, 0.5);
    
    &:hover {
      border-color: $color-character;
    }
  }
  
  &.type-lieu {
    border-top: 3px solid rgba($color-location, 0.5);
    
    &:hover {
      border-color: $color-location;
    }
  }
  
  &.type-plateau {
    border-top: 3px solid rgba($color-set, 0.5);
    
    &:hover {
      border-color: $color-set;
    }
  }
  
  &.type-episode {
    border-top: 3px solid rgba($color-episode, 0.5);
    
    &:hover {
      border-color: $color-episode;
    }
  }
  
  &.type-sequence {
    border-top: 3px solid rgba($color-sequence, 0.5);
    
    &:hover {
      border-color: $color-sequence;
    }
  }
}

@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.movie-card-header-Scenariste {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding-bottom: $padding-sm;
  margin-bottom: $padding-sm;
  border-bottom: 1px solid $color-border;
}

.statut-badge-Scenariste {
  padding: $gap-xs $padding-sm;
  border-radius: $border-radius-pill;
  font-size: $font-size-p4;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: $color-accent-light; 
  color: $color-primary;
  
  &.statut-planifie {
    background: rgba($color-warning, 0.1);
    color: $color-warning;
    border: 1px solid rgba($color-warning, 0.2);
  }
  
  &.statut-confirme {
    background: rgba($color-primary, 0.1);
    color: $color-primary;
    border: 1px solid rgba($color-primary, 0.2);
  }
  
  &.statut-en_cours {
    background: rgba($color-accent, 0.1);
    color: $color-accent-dark;
    border: 1px solid rgba($color-accent, 0.2);
  }
  
  &.statut-termine {
    background: rgba($color-success, 0.1);
    color: $color-success;
    border: 1px solid rgba($color-success, 0.2);
  }
  
  &.statut-reporte {
    background: rgba($color-warning, 0.1);
    color: darken($color-warning, 20%);
    border: 1px solid rgba($color-warning, 0.2);
  }
  
  &.statut-annule {
    background: rgba($color-error, 0.1);
    color: $color-error;
    border: 1px solid rgba($color-error, 0.2);
  }
}

.type-badge-Scenariste {
  padding: $gap-xs $padding-sm;
  border-radius: $border-radius-pill;
  font-size: $font-size-p4;
  font-weight: $font-weight-semibold;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  display: flex;
  align-items: center;
  gap: $gap-xs;
  
  i {
    font-size: $font-size-p3;
  }
  
  &.type-scene {
    background: rgba($color-scene, 0.1);
    color: $color-scene;
    border: 1px solid rgba($color-scene, 0.2);
  }
  
  &.type-personnage {
    background: rgba($color-character, 0.1);
    color: $color-character;
    border: 1px solid rgba($color-character, 0.2);
  }
  
  &.type-lieu {
    background: rgba($color-location, 0.1);
    color: $color-location;
    border: 1px solid rgba($color-location, 0.2);
  }
  
  &.type-plateau {
    background: rgba($color-set, 0.1);
    color: $color-set;
    border: 1px solid rgba($color-set, 0.2);
  }
  
  &.type-episode {
    background: rgba($color-episode, 0.1);
    color: $color-episode;
    border: 1px solid rgba($color-episode, 0.2);
  }
  
  &.type-sequence {
    background: rgba($color-sequence, 0.1);
    color: $color-sequence;
    border: 1px solid rgba($color-sequence, 0.2);
  }
}

.movie-info-Scenariste {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.movie-title-Scenariste {
  font-size: $font-size-h4;
  font-weight: $font-weight-semibold;
  margin: 0 0 $gap-xs 0;
  color: $color-text-primary;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.movie-genre-Scenariste {
  color: $color-text-muted;
  font-weight: $font-weight-medium;
  font-size: $font-size-p3;
  margin: 0 0 $padding-sm 0;
}

.movie-meta-Scenariste {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: $gap-sm;
  color: $color-text-secondary;
  font-size: $font-size-p3;
  font-weight: $font-weight-medium;
  margin-bottom: $padding-md;
}

.meta-separator-Scenariste {
  color: $color-text-muted;
  font-weight: $font-weight-regular;
}

.movie-synopsis p {
  font-size: $font-size-p3;  
  color: $color-text-secondary;
  line-height: $line-height-base;
  margin-bottom: $padding-md;
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}

// Dialogues compacts
.dialogues-compact-Scenariste {
  background: rgba($color-primary, 0.05);
  border-radius: $border-radius-xs;
  padding: $padding-sm;
  margin: $padding-sm 0;
  max-height: 80px;
  overflow-y: auto;
  
  &::-webkit-scrollbar {
    width: 4px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba($color-primary, 0.2);
    border-radius: 2px;
  }
}

.dialogue-item-compact-Scenariste {
  @include typography-p4;
  color: $color-text-secondary;
  font-style: italic;
  padding-left: $padding-xs;
  border-left: 1px solid rgba($color-primary, 0.3);
  line-height: 1.4;
  margin-bottom: $gap-xs;
  
  &:last-child {
    margin-bottom: 0;
  }
}

// Hiérarchie compacte
.hierarchy-compact-Scenariste {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: $gap-xs;
  margin: $padding-sm 0;
  padding: $padding-xs;
  background: rgba($color-primary, 0.05);
  border-radius: $border-radius-xs;
  font-size: $font-size-p4;
  color: $color-text-muted;
  
  .hierarchy-item-Scenariste {
    display: flex;
    align-items: center;
    gap: $gap-xs;
    
    i {
      font-size: $font-size-p3;
    }
    
    &.projet-item i {
      color: $color-primary;
    }
    
    &.episode-item i {
      color: $color-scene;
    }
    
    &.sequence-item i {
      color: $color-sequence;
    }
  }
  
  .hierarchy-separator-Scenariste {
    color: $color-border;
  }
}

// Section d'infos spécifiques
.specific-info-Scenariste {
  margin: $padding-sm 0;
  padding: $padding-xs;
  background: rgba($color-primary, 0.03);
  border-radius: $border-radius-xs;
  border-left: 2px solid $color-primary;
  
  .info-row-Scenariste {
    display: flex;
    align-items: center;
    gap: $gap-sm;
    margin-bottom: $gap-xs;
    font-size: $font-size-p4;
    color: $color-text-secondary;
    
    &:last-child {
      margin-bottom: 0;
    }
    
    i {
      color: $color-primary;
      font-size: $font-size-p3;
      width: 16px;
    }
    
    span {
      flex: 1;
    }
  }
}

.movie-actions-bottom-Scenariste {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  gap: $gap-sm;
}

.actions-top-Scenariste {
  display: flex;
  gap: $gap-sm;
}

// =============================================
// BOUTONS CARTES - STYLES IDENTIQUES À L'ACCUEIL
// =============================================

.action-btn-Scenariste {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $gap-xs;
  padding: $padding-sm $padding-md;
  border-radius: $border-radius-sm;
  font-weight: $font-weight-semibold;
  font-size: $font-size-p3;
  cursor: pointer;
  transition: $transition;
  text-decoration: none;
  border: none;
  flex: 1;
  min-height: 40px;
  
  .icon, i {
    font-size: $font-size-p2;
    transition: $transition-fast;
  }
  
  span {
    white-space: nowrap;
    font-weight: $font-weight-medium;
  }
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: $shadow;
    
    .icon, i {
      transform: scale(1.1);
    }
  }
  
  &:active {
    transform: translateY(0);
  }
}

// Bouton Détails - Style Accent Dark (identique)
.action-btn-Scenariste.accent-btn {
  background: none;
  border: 1.5px solid $color-accent-dark !important;
  color: $color-accent-dark !important;

  &:hover {
    background: $color-accent-dark !important;
    color: $color-text-light !important;
    border-color: $color-accent-dark !important;
    box-shadow: 0 2px 6px rgba($color-accent-dark, 0.3);
  }
}

// Bouton Voir plus - Style Primary (identique)
.action-btn-Scenariste.primary-btn {
  background: $color-primary !important;
  border: none;
  color: $color-text-light !important;
  font-weight: $font-weight-semibold;
  
  &:hover {
    background: darken($color-primary, 10%) !important;
    border-color: darken($color-primary, 15%) !important;
    box-shadow: 0 4px 12px rgba($color-primary, 0.3);
    color: $color-text-light !important;
    font-weight: $font-weight-semibold;
  }
}

// =============================================
// SECTION RÉSULTATS AVEC GROUPEMENT
// =============================================
.results-section-recherche {
  margin-top: $spacing-lg;
}

.empty-state-recherche,
.loading-state-recherche {
  text-align: center;
  padding: $spacing-xl;
  background: $color-background-alt;
  border-radius: $border-radius-lg;
  border: 2px dashed $color-border;
  
  .empty-icon-recherche,
  .spinner-recherche {
    font-size: 48px;
    color: $color-text-muted;
    margin-bottom: $spacing-md;
  }
  
  h3 {
    @include typography-playfair-h4;
    color: $color-text-primary;
    margin-bottom: $gap-sm;
  }
  
  p {
    @include typography-p2;
    color: $color-text-secondary;
    max-width: 500px;
    margin: 0 auto;
  }
}

.loading-state-recherche {
  .spinner-recherche i {
    color: $color-primary;
  }
}

// =============================================
// CONTAINER DE RÉSULTATS MODERNE
// =============================================
.modern-results-recherche {
  .results-header-recherche {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: $spacing-lg;
    padding-bottom: $spacing-md;
    border-bottom: 1px solid $color-border;
    flex-wrap: wrap;
    gap: $spacing-sm;
    
    h2 {
      @include typography-playfair-h3;
      color: $color-text-primary;
      font-size: calc(#{$font-size-h3} - 4px);
      display: flex;
      align-items: center;
      gap: $gap-sm;
      margin: 0;
    }
    
    .results-info-recherche {
      flex: 1;
      display: flex;
      gap: $spacing-md;
      align-items: center;
      font-size: $font-size-p3;
      color: $color-text-secondary;
      
      .projet-info-recherche,
      .regroupement-info-recherche {
        display: flex;
        align-items: center;
        gap: $gap-xs;
        
        strong {
          color: $color-primary;
          font-weight: $font-weight-semibold;
        }
        
        i {
          color: $color-primary;
        }
      }
    }
    
    .reset-all-btn-recherche {
      padding: $padding-sm $padding-lg;
      background: $color-accent-dark;
      border: 1px solid $color-primary;
      border-radius: $border-radius-xs;
      color: $color-text-light;
      font-size: $font-size-p4;
      font-weight: $font-weight-semibold;
      cursor: pointer;
      transition: $transition-fast;
      display: flex;
      align-items: center;
      gap: $gap-xs;
      
      &:hover {
        background: darken($color-accent-dark, 10%);
        transform: translateY(-1px);
        box-shadow: $shadow-hover;
      }
      
      i {
        color: $color-text-light;
      }
    }
  }
}

// =============================================
// GROUPES DE RÉSULTATS
// =============================================
.results-list-recherche {
  display: flex;
  flex-direction: column;
  gap: $spacing-lg;
}

.result-group-recherche {
  .group-header-recherche {
    display: flex;
    align-items: center;
    gap: $gap-sm;
    padding: $padding-md $padding-lg;
    border-radius: $border-radius-sm;
    margin-bottom: $spacing-md;
    font-weight: $font-weight-semibold;
    font-size: $font-size-p1;
    color: $color-text-light;
    box-shadow: $shadow-md;
    
    .group-icon-recherche {
      font-size: $font-size-h4;
    }
    
    .group-title-recherche {
      flex: 1;
    }
    
    .group-count-recherche {
      @include typography-p3;
      opacity: 0.8;
    }
  }
  
  // Styles spécifiques pour chaque type de groupe
  .group-header-plateau-recherche {
    background: linear-gradient(135deg, #8B5CF6, #7C3AED); // Violet
  }
  
  .group-header-lieu-recherche {
    background: linear-gradient(135deg, #0EA5E9, #0284C7); // Bleu
  }
  
  .group-header-personnage-recherche {
    background: linear-gradient(135deg, #10B981, #059669); // Vert
  }
  
  .group-header-statut-recherche {
    background: linear-gradient(135deg, #F59E0B, #D97706); // Orange
  }
  
  .group-header-episode-recherche {
    background: linear-gradient(135deg, #EC4899, #DB2777); // Rose
  }
  
  .group-header-sequence-recherche {
    background: linear-gradient(135deg, #6366F1, #4F46E5); // Indigo
  }
  
  .group-header-projet-recherche {
    background: linear-gradient(135deg, $color-primary, $color-primary-dark); // Couleur principale
  }
}

// =============================================
// RESPONSIVE
// =============================================
@media (max-width: $breakpoint-lg) {
  .search-sidebar-recherche {
    display: none;
  }
  
  .search-body-recherche {
    margin-left: 0;
  }
  
  .search-main-content-recherche {
    padding: $spacing-md;
  }
}

@media (max-width: $breakpoint-md) {
  .projects-library-Scenariste {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: $padding-md;
  }
  
  .movie-card-Scenariste {
    height: auto;
    min-height: 320px;
    padding: $padding-md;
  }
  
  .results-header-recherche {
    flex-direction: column;
    align-items: flex-start;
    gap: $spacing-sm;
  }
  
  .results-info-recherche {
    flex-direction: column;
    align-items: flex-start;
    gap: $gap-sm;
  }
}

@media (max-width: $breakpoint-sm) {
  .projects-library-Scenariste {
    grid-template-columns: 1fr;
  }
  
  .movie-card-Scenariste {
    padding: $padding-sm;
  }
  
  .actions-top-Scenariste {
    flex-direction: column;
  }
  
  .action-btn-Scenariste {
    min-height: 44px;
    font-size: $font-size-p2;
    
    .icon, i {
      font-size: $font-size-p1;
    }
  }
  
  .main-header-recherche {
    .page-title-recherche {
      font-size: $font-size-h4;
    }
    
    .page-subtitle-recherche {
      font-size: $font-size-p4;
    }
  }
}

// =============================================
// ANIMATIONS SPÉCIALES
// =============================================
@keyframes button-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.action-btn-Scenariste:focus {
  outline: none;
  animation: button-pulse 0.3s ease;
  
  &.accent-btn {
    box-shadow: 0 0 0 3px rgba($color-accent-dark, 0.2);
  }
  
  &.primary-btn {
    box-shadow: 0 0 0 3px rgba($color-primary, 0.2);
  }
}

// =============================================
// STYLES POUR LES RÉSULTATS SANS GROUPEMENT
// =============================================
.results-grid-simple-recherche {
  .projects-library-Scenariste {
    margin-top: $spacing-md;
  }
}

// =============================================
// INDICATEUR VISUEL DE RÉSULTATS
// =============================================
.result-count-indicator-Scenariste {
  display: flex;
  align-items: center;
  gap: $gap-sm;
  padding: $padding-sm $padding-md;
  background: rgba($color-primary, 0.1);
  border-radius: $border-radius-sm;
  margin: $spacing-md 0;
  border-left: 3px solid $color-primary;
  
  i {
    color: $color-primary;
    font-size: $font-size-p1;
  }
  
  .count-text-Scenariste {
    font-size: $font-size-p3;
    color: $color-text-secondary;
    
    strong {
      color: $color-primary;
      font-weight: $font-weight-semibold;
    }
  }
}


// Ajoutez ces styles à votre fichier _recherche.scss

// =============================================
// SECTION EN-TÊTE AVEC BARRE DE RECHERCHE
// =============================================
.header-search-section {
  margin-bottom: $spacing-xl;
  text-align: center;
  
  .main-header-recherche {
    margin-bottom: $spacing-lg;
    
    .page-title-recherche {
      margin-bottom: $spacing-sm;
      font-size: calc(#{$font-size-h3} - 2px);
      @include typography-playfair-h3;
    }
    
    .page-subtitle-recherche {
      color: $color-text-muted;
      font-size: $font-size-p2;
      max-width: 600px;
      margin: 0 auto;
    }
  }
  
  .search-bar-main-recherche {
    max-width: 600px;
    margin: 0 auto;
  }
}

// =============================================
// SECTION FILTRES ACTIFS ET RÉSULTATS
// =============================================
.filters-results-section {
  .active-filters-container {
    display: flex;
    flex-direction: column;
    gap: $spacing-sm;
    margin-bottom: $spacing-lg;
    
    .projet-filter-indicator-recherche {
      background: linear-gradient(135deg, rgba($color-primary, 0.05), rgba($color-primary, 0.1));
      border-radius: $border-radius-sm;
      padding: $padding-sm $padding-md;
      border-left: 3px solid $color-primary;
      
      .projet-indicator-content-recherche {
        display: flex;
        align-items: center;
        gap: $gap-md;
        flex-wrap: wrap;
        
        .projet-label-recherche {
          font-size: $font-size-p3;
          color: $color-text-secondary;
          display: flex;
          align-items: center;
          gap: $gap-sm;
          font-weight: $font-weight-semibold;
          
          i {
            color: $color-primary;
          }
        }
        
        .projet-nom-recherche {
          font-size: $font-size-p2;
          color: $color-text-primary;
          font-weight: $font-weight-semibold;
          flex: 1;
        }
        
        .clear-projet-btn-recherche {
          background: rgba($color-primary, 0.1);
          border: 1px solid rgba($color-primary, 0.2);
          border-radius: $border-radius-xs;
          color: $color-primary;
          padding: $gap-xs $padding-sm;
          font-size: $font-size-p4;
          font-weight: $font-weight-medium;
          cursor: pointer;
          transition: $transition-fast;
          display: flex;
          align-items: center;
          gap: $gap-xs;
          
          &:hover {
            background: $color-primary;
            color: $color-text-light;
          }
        }
      }
    }
  }
}

// =============================================
// INDICATEUR DE NOMBRE DE RÉSULTATS AMÉLIORÉ
// =============================================
.result-count-indicator-Scenariste {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $gap-sm;
  padding: $padding-md;
  background: linear-gradient(135deg, rgba($color-success, 0.05), rgba($color-success, 0.1));
  border-radius: $border-radius-sm;
  margin-bottom: $spacing-lg;
  border: 1px solid rgba($color-success, 0.2);
  text-align: center;
  
  i {
    color: $color-success;
    font-size: $font-size-p1;
  }
  
  .count-text-Scenariste {
    font-size: $font-size-p2;
    color: $color-text-primary;
    
    strong {
      color: $color-success;
      font-weight: $font-weight-bold;
    }
  }
}

// =============================================
// RESPONSIVE
// =============================================
@media (max-width: $breakpoint-md) {
  .header-search-section {
    .main-header-recherche {
      .page-title-recherche {
        font-size: $font-size-h4;
      }
      
      .page-subtitle-recherche {
        font-size: $font-size-p3;
      }
    }
  }
  
  .filters-results-section {
    .active-filters-container {
      .projet-filter-indicator-recherche {
        .projet-indicator-content-recherche {
          flex-direction: column;
          align-items: flex-start;
          gap: $gap-sm;
          
          .clear-projet-btn-recherche {
            align-self: flex-end;
          }
        }
      }
    }
  }
  
  .modern-results-recherche {
    .results-header-recherche {
      h2 {
        font-size: $font-size-h4;
      }
      
      .results-info-recherche {
        text-align: center;
        
        .projet-info-recherche,
        .regroupement-info-recherche {
          flex-direction: column;
          gap: $gap-xs;
        }
      }
    }
  }
}

@media (max-width: $breakpoint-sm) {
  .header-search-section {
    .search-bar-main-recherche {
      .search-input-large-recherche {
        font-size: $font-size-p3;
        height: 44px;
      }
    }
  }
  
  .result-count-indicator-Scenariste {
    flex-direction: column;
    gap: $gap-sm;
    text-align: center;
    
    .count-text-Scenariste {
      font-size: $font-size-p3;
    }
  }
}
